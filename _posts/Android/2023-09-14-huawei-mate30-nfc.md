---
layout:		post
category:	"android"
title:		"华为Mate30手机NFC功能异常的解决办法"

tags:		[android]
---
- Content
{:toc}


华为Mate30手机NFC功能异常的解决办法



症状：一日刷卡失败，后面就一直再也用不了了。尝试删除，提示删除失败；尝试重新添加卡片，提示已存在卡片；尝试一键修复，仍然不行。于是有了后面的解决办法。NFC标签能正常感应，手机NFC开关能正常打开。



整体解决途径：

1. 等待官方版本更新。
   - 系统和钱包App更新了也仍然有问题，看来官方不知道有这个问题。

2. 官方售后服务。
   - 两次电联官方客服，第一次给我反馈说是硬件问题，我是怀疑的，所以才有了第二次，第二次也说是硬件问题，让去线下门店检查。

3. 手机重置。
   - 思路：全部备份好后，手机恢复出厂设置，然后测试NFC功能是否可用，最后恢复备份数据。使用「[HiSuite华为手机助手](https://www.huawei.com/hisuite)」先备份数据，微信聊天数据需要单独备份。
   - 实际情况：实际验证不能解决问题。

4. 花粉俱乐部反馈。
   - 主要是想看看有没有遇到类似问题的用户，然而并没有。运营建议去线下门店检查。

5. 更换硬件。
   - 思路：网上购买NFC模块，拆机更换。参考：[华为 P20 Pro 主板盖和 NFC 天线更换](https://zh.ifixit.com/Guide/%E5%8D%8E%E4%B8%BA+P20+Pro+%E4%B8%BB%E6%9D%BF%E7%9B%96%E5%92%8C+NFC+%E5%A4%A9%E7%BA%BF%E6%9B%B4%E6%8D%A2/123277)、[华为P40，NFC功能用不了维修](https://www.douyin.com/zhuanti/7245088221573695503)
   - 实际情况：发现网上大部分是NFC排线的问题，而我的手机能感应标签，说明排线没问题。要么就是NFC芯片的问题，但是网上也没有卖该款手机NFC芯片的，再者就是换主板了，那就没必要小题大做了。即使能解决问题，也划不来。

6. 实体店检查。
   - 检查说是硬件没问题，深度检查需要留机检查一周，觉得影响日常生活就没深度检查了。

7. NFC贴片。
8. 手机模拟。
   - 这个是在了解NFC贴片的时候查阅资料看到的一种解决方法，就是实现类似钱包App的功能，让手机模拟门禁卡ID，实现类似欺骗的效果。但是可能需要root手机，除非手机本身支持NFC开发，这块后续可以了解下华为手机的具体情况。参考：[NFC开发概述-NFC-网络与连接-基于Java开发-开发-HarmonyOS应用开发](https://developer.harmonyos.com/cn/docs/documentation/doc-guides/connectivity-nfc-overview-0000000000030030)，参见「卡模拟功能」章节的介绍：`设备可以模拟卡片，替代卡片完成对应操作，如模拟门禁卡、公交卡等。` 看来是支持开发者开发三方应用的，这个方向可行，但是没那么方便，坐等网上成熟的应用吧。




官方版本更新没有解决，拨打售后电话解决，也提取了日志分析，工程师反馈是我硬件损坏，无法在软件层面解决。我不太相信，先抱着试试看的态度尝试恢复出厂设置看看能不能解决。如果不能解决再走硬件层面的途径。手机恢复出厂设置后，刷卡必须登录华为账号，登录上去之后数据又出现了。怀疑数据在云端，于是又拨打客户电话联系工程师解决，来回倒腾了一个礼拜，给的结论是我硬件坏了，让我去线下门店检查。期间到花粉俱乐部反馈过，也没啥收获，官方的运营给的建议也是到线下检查。到了线下门店检查，又说硬件没问题。哈哈，跟我猜测一样。 NFC标签能正常感应，说明排线正常。手机NFC开关能正常打开（就是下拉菜单），说明芯片正常。说是如果想要继续排查，需要深度检查，需要一个礼拜左右，那就算了，太影响日常生活了。

为了简单快捷实现诉求，就慢慢求索其他方案……这个事情连续跨度有几个月时间，反正是小问题，也不急，有空了就折腾一下，当个乐子。后来有一次突发奇想，何不用一个超薄的NFC贴片，复制门禁卡后贴在手机壳内，这样既不影响美观，使用体验也跟之前一样，也能满足诉求。很早的时候买过NFC贴片玩，3毛钱一片批发了一些，但是实际测试发现这些贴片其他扇区都可以复写，0扇区0块的数据是不能复写的。看来还不能使用这种类型（M1）的贴片，需要重新调研研究下。参考：[手机NFC模拟门禁卡知识汇总 — 朱皮特的烂笔头](https://zhupite.com/sec/nfc.html) 

慢慢研究，未完待续……

